<div class="content" [ngClass]="{'nav-fixed': isNavFixed}">
  <nav class="categories-sidebar" [ngClass]="{'active-categories': isActive_category}">
    <div class="categories-sidebar-content">
      <ul class="categories-list">
        <div class="close-btn-c">
          <li (click)="onFilter('TELE')"><img src="https://cdn-icons-png.flaticon.com/512/2991/2991509.png" alt="telescope" />Teleskopy</li>
          <a (click)="toggleSideBar('category')"><span><img src="https://www.freeiconspng.com/thumbs/arrow-icon/arrow-icon--myiconfinder-23.png" height="35" width="35" alt="menu-icon"></span></a>
        </div>
        <li (click)="onFilter('MONT')"><img src="https://cdn-icons-png.flaticon.com/512/3814/3814739.png" alt="mount" />Montáže</li>
        <li (click)="onFilter('BINO')"><img src="https://cdn-icons-png.freepik.com/512/69/69125.png" alt="binocular" />Binokuláre</li>
        <li><img src="https://cdn-icons-png.flaticon.com/512/467/467619.png" alt="solar-observation" /> Pozorovanie slnka</li>
        <li><img src="https://cdn1.iconfinder.com/data/icons/100-pirate-set/40/64-512.png" alt="eyepiece" /> Okuláre</li>
        <li><img src="https://cdn-icons-png.flaticon.com/512/164/164334.png" alt="filters" /> Filtre</li>
        <li><img src="https://www.freeiconspng.com/thumbs/camera-icon/camera-icon-21.png" alt="astrophotography" /> Astrofotografia</li>
        <li><img src="https://cdn-icons-png.flaticon.com/512/2120/2120445.png" alt="observatories" /> Observatória</li>
        <li><img src="https://www.freeiconspng.com/thumbs/plus-icon/plus-icon-black-2.png" alt="telescope-accessories" /> Príslušenstvo teles.</li>
        <li><img src="https://cdn-icons-png.flaticon.com/512/29/29302.png" alt="media" /> Média</li>
        <li><img src="https://cdn-icons-png.flaticon.com/512/44/44386.png" alt="nature-observation" /> Bežné pozorovanie</li>
      </ul>
    </div>
  </nav>
  <nav>
    <div class="nav-content">
      <div class="products_categories">
        <span class="categories-text" (click)="toggleSideBar('category')"><img src="../../assets/Images/menu_categories_icon.png"><a class="categories-link">Kategórie</a></span>
      </div>
      <div class="nav-icons">
        <div class="nav-items">
          <span><a [routerLink]="['/home']" [ngClass]="{'navigation-active': isCurrentRoute('/home', '/')}">Domov</a></span>
          <span><a [routerLink]="['/products']" [ngClass]="{'navigation-active': isCurrentRoute('/products')}">Produkty</a></span>
          <span><a [routerLink]="['/contact']" [ngClass]="{'navigation-active': isCurrentRoute('/contact')}">Kontakt</a></span>
        </div>
        <a [routerLink]="['/favorite-products']"><mat-icon matBadge="{{fav_countNum()}}" aria-hidden="false" matBadgeClass="custom-badge"><img src="https://cdn-icons-png.flaticon.com/512/2/2267.png" height="25" width="25" alt="favorite-products" title="favorite-products"></mat-icon></a>
        <div class="shopping-cart">
        <a [routerLink]="['/shopping-cart']"><mat-icon matBadge="{{countNum()}}" aria-hidden="false" matBadgeClass="custom-badge"><img src="https://cdn-icons-png.freepik.com/512/1413/1413908.png" height="25" width="25" alt="shopping-cart" title="shopping-cart"/></mat-icon></a>
        <div class="cart-dropdown-menu">
          @if(products.length > 0){
            <div *ngFor="let product of products" class="products">
              <img [src]="product.productImage0" [alt]="product.productName" height="50" width="50">
              <p class="product-name">{{ product.productName }}</p>
              <p style="font-weight: bold;">{{ product.amount}}x</p>
            </div>
          }
          @else{
            <div class="empty-cart">
              <p>Váš košík je prázdny</p>
            </div>
          }
        </div>
      </div>
      <div class="menu-icon">
        <a (click)="toggleSideBar('main')"><span><img src="../../assets/Images/menu_icon.png" height="35" width="35" alt="menu-icon"></span></a>
      </div>
      <div class="user">
      @if (authService.authenticated()) {
        <a [routerLink]="['/dashboard']"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Default_pfp.svg/2048px-Default_pfp.svg.png" alt="user" height="40" width="40" /></a>
      } @else {
        <a [routerLink]="['/login']"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Default_pfp.svg/2048px-Default_pfp.svg.png" alt="user" height="40" width="40" /></a>
      }
      </div>
     </div>
    </div>
  </nav>
  <nav class="sidebar" [ngClass]="{'active': isActive}">
    <div class="sidebar-content">
        @if (authService.authenticated()) {
          <div class="login-cancel">
          <a [routerLink]="['/dashboard']"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Default_pfp.svg/2048px-Default_pfp.svg.png" alt="user" height="40" width="40" class="login-link"/></a>
          <span class="close-btn" (click)="toggleSideBar('main')"><img src="https://icon-library.com/images/cancel-icon-png/cancel-icon-png-26.jpg" height="10" width="10"></span>
          </div>
        } @else {
          <div class="login-cancel">
          <a [routerLink]="['/login']"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Default_pfp.svg/2048px-Default_pfp.svg.png" alt="user" height="40" width="40" class="login-link"/></a>
          <span class="close-btn" (click)="toggleSideBar('main')"><img src="https://icon-library.com/images/cancel-icon-png/cancel-icon-png-26.jpg" height="10" width="10"></span>
        </div>
        }
        <span><a [routerLink]="['/home']" [ngClass]="{'sidebar-active': isCurrentRoute('/home', '/')}">Domov</a></span>
        <span><a [routerLink]="['/products']" [ngClass]="{'sidebar-active': isCurrentRoute('/products')}">Produkty</a></span>
        <span><a [routerLink]="['/contact']" [ngClass]="{'sidebar-active': isCurrentRoute('/contact')}">Kontakt</a></span>
    </div>
  </nav>
</div>