<title>Vaša objednávka</title>
<div class="content">
    <form class="order-form" [formGroup]="orderForm" (ngSubmit)="onSubmit()">
        <div class="title">
            <img src="../../assets/favicon.ico" alt="astroshop-icon" title="astroshop-icon">
            <h1>Informácie objednávky</h1>
        </div>
        <div class="order-form-content">
            <h2 class="delivery-address-title">Adresa doručenia</h2>
            <div class="full-name-field">
                <div class="field">
                    <label class="form-label">Meno*</label><br>
                    <input type="text" class="form-control" placeholder="Vaše meno" formControlName="firstName" [ngClass]="{'is-invalid': orderForm.get('firstName').invalid && orderForm.get('firstName').touched}" maxlength="30">
                </div>
                <div class="field">
                    <label class="form-label">Priezvisko*</label><br>
                    <input type="text" class="form-control" placeholder="Vaše priezvisko" formControlName="lastName" [ngClass]="{'is-invalid': orderForm.get('lastName').invalid && orderForm.get('lastName').touched}" maxlength="30">
                </div>
            </div>
            <div class="field">
                <label class="form-label">Adresa*</label><br>
                <input type="text" class="form-control" placeholder="Vaša adresa" formControlName="address" [ngClass]="{'is-invalid': orderForm.get('address').invalid && orderForm.get('address').touched}" maxlength="60">
            </div>
            <div class="postal-code-city-field">
                <div class="field">
                    <label class="form-label">PSČ*</label><br>
                    <input type="text" class="form-control" placeholder="Vaše PSČ" formControlName="postalCode" [ngClass]="{'is-invalid': orderForm.get('postalCode').invalid && orderForm.get('postalCode').touched}" maxlength="8">
                </div>
                <div class="field">
                    <label class="form-label">Mesto*</label><br>
                    <input type="text" class="form-control" placeholder="Vaše mesto" formControlName="city" [ngClass]="{'is-invalid': orderForm.get('city').invalid && orderForm.get('city').touched}" maxlength="30">
                </div>
            </div>
            <div class="field">
                <label class="form-label">E-mailová adresa*</label><br>
                <input type="email" class="form-control" placeholder="Vaša e-mailová adresa" formControlName="email" [ngClass]="{'is-invalid': orderForm.get('email').invalid && orderForm.get('email').touched}" maxlength="60">
            </div>
            <div class="phone-number-country-field">
                <div class="field">
                    <label class="form-label">Telefónne číslo*</label><br>
                    <input type="tel" class="form-control" placeholder="Vaše telefónne číslo" formControlName="phoneNumber" [ngClass]="{'is-invalid': orderForm.get('phoneNumber').invalid && orderForm.get('phoneNumber').touched}" maxlength="10">
                </div>
                <div class="field">
                    <label class="form-label">Štát*</label><br>
                    <select class="form-control" (change)="onSelectChange($event)" [ngClass]="{'is-invalid': orderForm.get('country').invalid && orderForm.get('country').touched}">
                        <option disabled selected value>Nezvolené</option>
                        <option>Slovensko</option>
                        <option>Česká republika</option>
                    </select>
                </div>
            </div>
            <h2 class="delivery-option-title">Spôsob dopravy</h2>
            <div class="order-form-delivery-field">
                <form [formGroup]="orderForm" class="order-form-delivery">
                    <div class="delivery-option">
                        <input type="radio" name="deliveryOption" value="Packeta" formControlName="deliveryOption" (change)="onRadioChange($event)" class="form-check-input" [ngClass]="{'is-invalid': orderForm.get('deliveryOption').invalid && orderForm.get('deliveryOption').touched}">
                        <label for="packeta"><img src="https://www.turtle3d.hu/storage/site/temp/packeta_logo.png" alt="packeta" title="packeta"><span>Doručenie na výdajňu Packeta</span></label>
                    </div>
                    <hr>
                    <div class="delivery-option">
                        <input type="radio" name="deliveryOption" value="Pošta" formControlName="deliveryOption" (change)="onRadioChange($event)" class="form-check-input" [ngClass]="{'is-invalid': orderForm.get('deliveryOption').invalid && orderForm.get('deliveryOption').touched}">
                        <label for="posta"><img src="https://iconape.com/wp-content/png_logo_vector/slovenska-posta-logo.png" alt="posta" title="posta"><span>Doručenie na vašu poštu</span></label>
                    </div>
                    <hr>
                    <div class="delivery-option">
                        <input type="radio" name="deliveryOption" value="Kuriér" formControlName="deliveryOption" (change)="onRadioChange($event)" class="form-check-input" [ngClass]="{'is-invalid': orderForm.get('deliveryOption').invalid && orderForm.get('deliveryOption').touched}">
                        <label for="kurier"><img src="https://www.jobkontakt.sk/files/images/logo/qcpZCL4VUvhRfMeOlYJ7fNldCp5cZ7OX_901.png" alt="kurier" title="kurier"><span>Doručenie kuriérom SPS</span></label>
                    </div>
                </form>
            </div>
            <div class="field">
                <label for="note" class="form-label">Poznámka</label>
                <textarea class="form-control" placeholder="Kliknutím sem napíšete poznámku" minlength="0" maxlength="250" [(ngModel)]="userMessage" (input)="update()" formControlName="note"></textarea>
                @if(userMessage.length > 0){
                    <div class="char-count">{{ charactersCount }} / 250 znakov</div>
                }
                @else{
                    
                }
            </div>
            <div class="field-submit">
                <button class="btn btn-secondary" (click)="onSubmit()" type="button">Pokračovať v objednávke</button>
            </div>
        </div>
    </form>
</div>
