<title>Objednávky</title>
<div class="content">
  @if(!isLoading){
    <div class="title">
      <h1>Objednávky používateľov <img src="https://static.thenounproject.com/png/101952-200.png" alt="oder-icon"></h1>
    </div>
    @if(ordersData.length > 0){
      <div class="orders">
        <table class="ordersTable">
            <tr>
              <th>Číslo objednávky</th>
              <th>E-mailová adresa</th>
              <th>Dátum objednávky</th>
              <th>Cena objednávky</th>
              <th>Stav objednávky</th>
            </tr>
            <tr *ngFor="let order of filteredOrdersData" [routerLink]="['/user-orders', order.orderId]">
                <td class="link" [routerLink]="['/user-orders', order.orderId]">{{order.orderId}}</td>  
                <td>{{order.email}}</td>
                <td>{{order.orderDate}}</td>
                <td>{{order.totalPrice.toFixed(2)}}€</td>
                <td [ngClass]="{
                  'red-text': order.orderStatus === 'Čakajúce',
                  'yellow-text': order.orderStatus === 'Pripravuje sa',
                  'green-text': order.orderStatus === 'Doručené'
                }">{{order.orderStatus}}</td>
            </tr>
          </table>
    </div>
    <div class="paginator">
      <app-pagination [currentPage]="currentPage" [limit]="limit" [total]="totalItems" (changePage)="onPageChange($event)"></app-pagination>
    </div>
    }@else{
      <div class="no-orders">
        <p>Žiadne objednávky!</p>
      </div>
    }
  }@else{
    <div class="spinner-container">
      <div class="spinner">
      </div>
      Načítavanie...
    </div>
  }
</div>
